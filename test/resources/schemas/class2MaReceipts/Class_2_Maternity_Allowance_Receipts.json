{
  "openapi": "3.0.3",
  "info": {
    "title": "Class 2 Maternity Allowance Receipts",
    "description": "# Usage Terms\nThese interfaces are business-critical interfaces for HMRC and DWP, supporting thousands of staff - all consumption, or change in consumption levels, should be registered and fully approved (see Registered Consumers below).",
    "version": "0.0.1 Draft",
    "x-integration-catalogue": {
      "reviewed-date": "2025-12-04T16:47:25Z",
      "publisher-reference": "class-2-ma-receipts",
      "short-description": "Class 2 Maternity Allowance Receipts",
      "status": "ALPHA",
      "api-type": "SIMPLE",
      "platform": "HIP",
      "backends": [
        "NI"
      ],
      "domain": 1,
      "sub-domain": 1.5
    }
  },
  "servers": [
    {
      "url": "https://api.ipaas.prod.eis.ns2p.corp.hmrc.gov.uk/ni",
      "description": "Corporate - Production"
    },
    {
      "url": "https://api.ipaas.test.eis.ns2n.corp.hmrc.gov.uk/ni",
      "description": "Corporate - Test"
    },
    {
      "url": "https://hip.ws.hmrc.gov.uk/ni",
      "description": "MDTP - Production"
    },
    {
      "url": "https://hip.ws.ibt.hmrc.gov.uk/ni",
      "description": "MDTP - QA"
    }
  ],
  "security": [
    {
      "oAuth2": [
        "read:class-2-ma-receipts"
      ]
    }
  ],
  "paths": {
    "/class-2/{identifier}/maternity-allowance/receipts": {
      "get": {
        "tags": [],
        "summary": "Retrieve Class 2 Maternity Allowance Receipts",
        "description": "# Purpose\nThis API provides the capability to retrieve class 2 Maternity Allowance Receipts.<br>\n## Version Log\n| Version | Date | Author | Description |\n|---------|------|--------|-------------|\n| 0.0.1 | 04/12/2025 | NPS Development Team  | Initial Draft  |",
        "operationId": "getClass2MAReceipts",
        "parameters": [
          {
            "$ref": "#/components/parameters/correlationId"
          },
          {
            "$ref": "#/components/parameters/govUkOriginatorId"
          },
          {
            "$ref": "#/components/parameters/govUkOrganisationId"
          },
          {
            "$ref": "#/components/parameters/govUkUserId"
          },
          {
            "$ref": "#/components/parameters/govUkUserName"
          },
          {
            "$ref": "#/components/parameters/govUkJobRole"
          },
          {
            "$ref": "#/components/parameters/Identifier"
          },
          {
            "$ref": "#/components/parameters/Archived"
          },
          {
            "$ref": "#/components/parameters/ReceiptDate"
          },
          {
            "$ref": "#/components/parameters/SortBy"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "headers": {
              "correlationId": {
                "$ref": "#/components/headers/correlationId"
              }
            },
            "content": {
              "application/json;charset=UTF-8": {
                "schema": {
                  "$ref": "#/components/schemas/GetClass2MAReceiptsResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "correlationId": {
                "$ref": "#/components/headers/correlationId"
              }
            },
            "content": {
              "application/json;charset=UTF-8": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponse_400"
                },
                "examples": {
                  "Actual_Response": {
                    "value": {
                      "failures": [
                        {
                          "reason": "HTTP message not readable",
                          "code": "400.2"
                        },
                        {
                          "reason": "Constraint violation: Invalid/Missing input parameter: <parameter>",
                          "code": "400.1"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden ",
            "headers": {
              "correlationId": {
                "$ref": "#/components/headers/correlationId"
              }
            },
            "content": {
              "application/json;charset=UTF-8": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponse_403"
                },
                "examples": {
                  "Actual_Response": {
                    "value": {
                      "reason": "Forbidden",
                      "code": "403.2"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/notFoundErrorResponse"
          },
          "422": {
            "description": "Unprocessable Entity",
            "headers": {
              "correlationId": {
                "$ref": "#/components/headers/correlationId"
              }
            },
            "content": {
              "application/json;charset=UTF-8": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponse_422"
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/internalServerErrorResponse"
          }
        }
      }
    }
  },
  "components": {
    "headers": {
      "correlationId": {
        "required": true,
        "schema": {
          "$ref": "#/components/schemas/correlationId"
        }
      }
    },
    "parameters": {
      "correlationId": {
        "description": "Correlation ID - used for traceability purposes - note that this value in the response matches that received in the request to allow correlation.",
        "in": "header",
        "name": "correlationId",
        "required": true,
        "schema": {
          "$ref": "#/components/schemas/correlationId"
        }
      },
      "govUkOriginatorId": {
        "description": "Identity of the Originating System that made the API call.",
        "in": "header",
        "name": "gov-uk-originator-id",
        "required": true,
        "schema": {
          "$ref": "#/components/schemas/govUkOriginatorId"
        }
      },
      "govUkOrganisationId": {
        "description": "A unique organisation ID for the user.",
        "in": "header",
        "name": "gov-uk-organisation-id",
        "schema": {
          "$ref": "#/components/schemas/govUkOrganisationId"
        }
      },
      "govUkUserId": {
        "description": "A unique user ID for the user.",
        "in": "header",
        "name": "gov-uk-user-id",
        "required": false,
        "schema": {
          "$ref": "#/components/schemas/govUkUserId"
        }
      },
      "govUkUserName": {
        "description": "A unique username for the user.",
        "in": "header",
        "name": "gov-uk-user-name",
        "schema": {
          "$ref": "#/components/schemas/govUkUserName"
        }
      },
      "govUkJobRole": {
        "description": "A unique job role for the user.",
        "in": "header",
        "name": "gov-uk-job-role",
        "schema": {
          "$ref": "#/components/schemas/govUkJobRole"
        }
      },
      "Identifier": {
        "name": "identifier",
        "in": "path",
        "required": true,
        "description": "The identifier of which could be either a Temporary Reference Number (TRN) or a National Insurance Number (NINO).",
        "schema": {
          "$ref": "#/components/schemas/identifier"
        }
      },
      "Archived": {
        "name": "latest",
        "in": "query",
        "required": false,
        "description": "Flag to determine if the consuming system wants to access archived/ active class 2 MA receipts.",
        "example": true,
        "schema": {
          "type": "boolean"
        }
      },
      "ReceiptDate": {
        "name": "receiptDate",
        "in": "query",
        "required": false,
        "description": "Filter by Receipt Date",
        "schema": {
          "$ref": "#/components/schemas/receiptDate"
        }
      },
      "SortBy": {
        "name": "type",
        "in": "query",
        "required": false,
        "description": "Capabilities of data sort.",
        "schema": {
          "type": "string",
          "$ref": "#/components/schemas/EnumSortMAReceiptBy"
        }
      }
    },
    "responses": {
      "notFoundErrorResponse": {
        "headers": {
          "correlationId": {
            "$ref": "#/components/headers/correlationId"
          }
        },
        "description": "The requested resource could not be found"
      },
      "internalServerErrorResponse": {
        "description": "Internal Server Error",
        "headers": {
          "correlationId": {
            "$ref": "#/components/headers/correlationId"
          }
        }
      }
    },
    "schemas": {
      "EnumSortMAReceiptBy": {
        "enum": [
          "NINO ASCENDING",
          "NINO DESCENDING",
          "DATE OF FINAL PAYMENT DESCENDING",
          "DATE OF FINAL PAYMENT ASCENDING"
        ],
        "type": "string"
      },
      "correlationId": {
        "description": "Correlation ID - used for traceability purposes - note that this value in the response matches that received in the request to allow correlation.",
        "example": "e470d658-99f7-4292-a4a1-ed12c72f1337",
        "format": "uuid",
        "type": "string"
      },
      "govUkOriginatorId": {
        "description": "Identity of the Originating System that made the API call",
        "type": "string"
      },
      "govUkOrganisationId": {
        "description": "A unique organisation ID for the user.",
        "type": "string",
        "example": "Department"
      },
      "govUkUserId": {
        "description": "A unique user ID for the user.",
        "minLength": 7,
        "maxLength": 7,
        "type": "string"
      },
      "govUkUserName": {
        "description": "A unique username for the user.",
        "type": "string",
        "example": "Worker"
      },
      "govUkJobRole": {
        "description": "A unique job role for the user.",
        "type": "string",
        "example": "Social"
      },
      "identifier": {
        "description": "The identifier of which could be either a Temporary Reference Number (TRN) e.g. 00A00000 or a National Insurance Number (NINO) e.g. AA000001A.",
        "type": "string",
        "pattern": "^(((?:[ACEHJLMOPRSWXY][A-CEGHJ-NPR-TW-Z]|B[A-CEHJ-NPR-TW-Z]|G[ACEGHJ-NPR-TW-Z]|[KT][A-CEGHJ-MPR-TW-Z]|N[A-CEGHJL-NPR-SW-Z]|Z[A-CEGHJ-NPR-TW-Y])[0-9]{6}[A-D]?)|([0-9]{2}[A-Z]{1}[0-9]{5}))$",
        "example": "AA000001A"
      },
      "receivablePeriodStartDate": {
        "description": "The recievable period start date.",
        "example": "2023-06-27",
        "format": "date",
        "type": "string"
      },
      "receivablePeriodEndDate": {
        "description": "The recievable period end date.",
        "example": "2023-06-27",
        "format": "date",
        "type": "string"
      },
      "receivablePayment": {
        "description": "The receivable payment of the receipt.",
        "example": 10.56,
        "maximum": 99999999999999.98,
        "minimum": -99999999999999.98,
        "multipleOf": 0.0001,
        "type": "number"
      },
      "receiptDate": {
        "description": "The receipt date.",
        "example": "2023-06-27",
        "format": "date",
        "type": "string"
      },
      "liabilityStartDate": {
        "description": "The liability type start date.",
        "example": "2023-06-27",
        "format": "date",
        "type": "string"
      },
      "liabilityEndDate": {
        "description": "The liability type end date.",
        "example": "2023-06-27",
        "format": "date",
        "type": "string"
      },
      "billAmount": {
        "description": "Bill amount of the class 2 MA receipt",
        "example": 10.56,
        "maximum": 99999999999999.98,
        "minimum": -99999999999999.98,
        "multipleOf": 0.0001,
        "type": "number"
      },
      "billScheduleNumber": {
        "description": "Bill schedule number of the class 2 MA receipt",
        "type": "integer",
        "format": "number"
      },
      "isClosedRecord": {
        "description": "Confirms if the receipt is a closed / paid receipt.",
        "type": "boolean"
      },
      "weeksPaid": {
        "description": "A calculated number of weeks paid",
        "type": "integer"
      },
      "initials": {
        "description": "The Initials of the customer.",
        "example": "JP",
        "maxLength": 2,
        "minLength": 1,
        "pattern": "^([A-Za-z '-])+$",
        "type": "string"
      },
      "surname": {
        "description": "The surname of the individual.",
        "example": "van Cholmondley-warner",
        "maxLength": 99,
        "minLength": 2,
        "pattern": "^([A-Za-z '-])+$",
        "type": "string"
      },
      "errorResponse_400": {
        "description": "Array of Error Response Failure Object in Error Response.",
        "title": "Error Response",
        "properties": {
          "failures": {
            "items": {
              "$ref": "#/components/schemas/errorResourceObj_400"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "errorResourceObj_400": {
        "type": "object",
        "required": [
          "code",
          "reason"
        ],
        "properties": {
          "reason": {
            "minLength": 1,
            "description": "Displays the reason of the failure.",
            "type": "string",
            "maxLength": 128
          },
          "code": {
            "description": "The error code representing the error that has occurred. Valid values are\n400.1 - Constraint violation (Followed by 'Invalid/Missing input parameter path.to.field'\n400.2 - HTTP message not readable;",
            "type": "string",
            "enum": [
              "400.1",
              "400.2"
            ]
          }
        }
      },
      "errorResponse_403": {
        "oneOf": [
          {
            "$ref": "#/components/schemas/errorResourceObj_403_Forbidden"
          },
          {
            "$ref": "#/components/schemas/errorResourceObj_403_UserNotAuthorised"
          }
        ],
        "description": "Error Response Payload for this API",
        "title": "Forbidden Error Response"
      },
      "errorResourceObj_403_Forbidden": {
        "title": "403_Forbidden",
        "type": "object",
        "required": [
          "code",
          "reason"
        ],
        "properties": {
          "reason": {
            "description": "Displays the reason of the failure.",
            "type": "string",
            "enum": [
              "Forbidden"
            ]
          },
          "code": {
            "description": "The error code representing the Forbidden Error.",
            "type": "string",
            "enum": [
              "403.2"
            ]
          }
        }
      },
      "errorResourceObj_403_UserNotAuthorised": {
        "title": "403_UserNotAuthorised",
        "type": "object",
        "required": [
          "code",
          "reason"
        ],
        "properties": {
          "reason": {
            "description": "Displays the reason of the failure.",
            "type": "string",
            "enum": [
              "User Not Authorised"
            ]
          },
          "code": {
            "description": "User Not Authorised.",
            "type": "string",
            "enum": [
              "403.1"
            ]
          }
        }
      },
      "errorResponse_422": {
        "description": "Error Response Payload for this API",
        "title": "Error Response",
        "type": "object",
        "properties": {
          "failures": {
            "$ref": "#/components/schemas/errorResponseFailure_422"
          }
        }
      },
      "errorResponseFailure_422": {
        "description": "Array of Error Response Failure Object in Error Response.",
        "title": "Failure Object in Error Response",
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/errorResourceObj_422"
        }
      },
      "errorResourceObj_422": {
        "type": "object",
        "required": [
          "code",
          "reason"
        ],
        "properties": {
          "reason": {
            "minLength": 1,
            "description": "Displays the reason of the failure.",
            "type": "string",
            "maxLength": 128
          },
          "code": {
            "minLength": 1,
            "description": "The error code representing the error that has occurred.",
            "type": "string",
            "maxLength": 10
          }
        }
      },
      "Class2MAReceiptDetails": {
        "description": "Contains MA Receipt details associated with an individual.",
        "properties": {
          "initials": {
            "$ref": "#/components/schemas/initials"
          },
          "surname": {
            "$ref": "#/components/schemas/surname"
          },
          "receivablePeriodStartDate": {
            "$ref": "#/components/schemas/receivablePeriodStartDate"
          },
          "receivablePeriodEndDate": {
            "$ref": "#/components/schemas/receivablePeriodEndDate"
          },
          "receivablePayment": {
            "$ref": "#/components/schemas/receivablePayment"
          },
          "receiptDate": {
            "$ref": "#/components/schemas/receiptDate"
          },
          "liabilityStartDate": {
            "$ref": "#/components/schemas/liabilityStartDate"
          },
          "liabilityEndDate": {
            "$ref": "#/components/schemas/liabilityEndDate"
          },
          "billAmount": {
            "$ref": "#/components/schemas/billAmount"
          },
          "billScheduleNumber": {
            "$ref": "#/components/schemas/billScheduleNumber"
          },
          "isClosedRecord": {
            "$ref": "#/components/schemas/isClosedRecord"
          },
          "weeksPaid": {
            "$ref": "#/components/schemas/weeksPaid"
          }
        },
        "type": "object"
      },
      "GetClass2MAReceiptsResponse": {
        "required": [
          "identifier",
          "class2MAReceiptDetails"
        ],
        "description": "Success response payload for this API.",
        "properties": {
          "identifier": {
            "$ref": "#/components/schemas/identifier"
          },
          "class2MAReceiptDetails": {
            "description": "Contains an array of Class 2 MA Receipt details.",
            "items": {
              "$ref": "#/components/schemas/Class2MAReceiptDetails"
            },
            "type": "array"
          }
        },
        "type": "object"
      }
    },
    "securitySchemes": {
      "oAuth2": {
        "type": "oauth2",
        "description": "OAuth2 Client Credentials Flow",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "/tokenUrl/not-required",
            "scopes": {
              "read:class-2-ma-receipts": "Class 2 MA Receipts"
            }
          }
        }
      }
    }
  }
}