{
  "openapi": "3.0.3",
  "info": {
    "title": "Individual's State Pension Information",
    "description": "# Usage Terms\nThis interface is business-critical for HMRC and is expected to be consumed by Digital users and other HMRC systems - all consumption, or change in consumption levels, should be registered and fully approved (see Registered Consumers below).",
    "version": "0.0.1 Draft",
    "x-integration-catalogue": {
      "reviewed-date": "2025-12-12T08:59:30Z",
      "publisher-reference": "nps-ni-state-pension-information",
      "short-description": "Individual's State Pension Information",
      "status": "BETA",
      "api-type": "SIMPLE",
      "platform": "HIP",
      "backends": [
        "NI"
      ],
      "domain": 1,
      "sub-domain": 1.1
    }
  },
  "servers": [
    {
      "url": "https://api.ipaas.prod.eis.ns2p.corp.hmrc.gov.uk/ni",
      "description": "Corporate - Production"
    },
    {
      "url": "https://api.ipaas.test.eis.ns2n.corp.hmrc.gov.uk/ni",
      "description": "Corporate - Test"
    },
    {
      "url": "https://hip.ws.hmrc.gov.uk/ni",
      "description": "MDTP - Production"
    },
    {
      "url": "https://hip.ws.ibt.hmrc.gov.uk/ni",
      "description": "MDTP - QA"
    }
  ],
  "security": [
    {
      "oAuth2": [
        "read:nps-ni-state-pension-information"
      ]
    }
  ],
  "paths": {
    "/national-insurance/{identifier}/benefits/long-term/contributions": {
      "get": {
        "summary": "Retrieve Individual's State Pension Information",
        "description": "# Purpose\nThis API is used to retrieve State Pension information for an indvidual (i.e., their NI record). It forms part of the NI Long Term Benefits Processing.\n# Volumes & Registered Consumers\nThis API is consumed by the following 'Registered Consumers' who would all need to be impacted when a new consumer with an associated new load first registers to use the service, or an uplift is required to the API. Each 'Registered Consumer' below will receive an additional Security Spec. document that outlines how to connect to the various environments as well as any consumer-specific authorisation/authentication details - this is unique to their connection.<br>\n | Consumer | Average API Calls Per Hour | Peak API Calls Per Hour | Peak TPS |\n |----------|------------------------|---------------------|----------|\n | xxx | xxx | xxx | xxx |\n *TPS = Transactions per second\n ## Version Log\n |Version|Date        | Author               | Description         |\n |-------|------------|----------------------|---------------------|\n | 0.0.1 Draft | 12/12/2024 | NPS Development Team | Initial Draft       |",
        "operationId": "getNIRecordForIPF",
        "parameters": [
          {
            "$ref": "#/components/parameters/correlationId"
          },
          {
            "$ref": "#/components/parameters/govUkOriginatorId"
          },
          {
            "$ref": "#/components/parameters/Identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "headers": {
              "correlationId": {
                "$ref": "#/components/headers/correlationId"
              }
            },
            "content": {
              "application/json;charset=UTF-8": {
                "schema": {
                  "$ref": "#/components/schemas/GetNIRecordResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "headers": {
              "correlationId": {
                "$ref": "#/components/headers/correlationId"
              }
            },
            "content": {
              "application/json;charset=UTF-8": {
                "schema": {
                  "$ref": "#/components/schemas/errorResponse_400"
                },
                "examples": {
                  "Actual_Response": {
                    "value": {
                      "failures": [
                        {
                          "reason": "HTTP message not readable",
                          "code": "400.2"
                        },
                        {
                          "reason": "Constraint Violation - Invalid/Missing input parameter",
                          "code": "400.1"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "403": {
            "content": {
              "application/json;charset=UTF-8": {
                "schema": {
                  "$ref": "#/components/schemas/errorResourceObj_403_Forbidden"
                },
                "examples": {
                  "Forbidden_Response": {
                    "value": {
                      "reason": "Forbidden",
                      "code": "403.2"
                    }
                  }
                }
              }
            },
            "description": "Forbidden",
            "headers": {
              "correlationId": {
                "$ref": "#/components/headers/correlationId"
              }
            }
          },
          "404": {
            "description": "Not Found Response",
            "$ref": "#/components/responses/notFoundErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/internalServerErrorResponse"
          }
        }
      }
    }
  },
  "components": {
    "headers": {
      "correlationId": {
        "required": true,
        "schema": {
          "$ref": "#/components/schemas/correlationId"
        }
      }
    },
    "parameters": {
      "correlationId": {
        "description": "Correlation ID - used for traceability purposes - note that this value in the response matches that received in the request to allow correlation.",
        "in": "header",
        "name": "correlationId",
        "required": true,
        "schema": {
          "$ref": "#/components/schemas/correlationId"
        }
      },
      "govUkOriginatorId": {
        "description": "Identity of the Originating System that made the API call.",
        "in": "header",
        "name": "gov-uk-originator-id",
        "required": true,
        "schema": {
          "$ref": "#/components/schemas/govUkOriginatorId"
        }
      },
      "Identifier": {
        "name": "identifier",
        "in": "path",
        "required": true,
        "description": "The identifier of which could be either a Temporary Reference Number (TRN) or a National Insurance Number (NINO).",
        "schema": {
          "$ref": "#/components/schemas/identifier"
        }
      }
    },
    "responses": {
      "notFoundErrorResponse": {
        "headers": {
          "correlationId": {
            "$ref": "#/components/headers/correlationId"
          }
        },
        "description": "The requested resource could not be found"
      },
      "internalServerErrorResponse": {
        "description": "Internal Server Error",
        "headers": {
          "correlationId": {
            "$ref": "#/components/headers/correlationId"
          }
        }
      }
    },
    "schemas": {
      "correlationId": {
        "description": "Correlation ID - used for traceability purposes - note that this value in the response matches that received in the request to allow correlation.",
        "example": "e470d658-99f7-4292-a4a1-ed12c72f1337",
        "format": "uuid",
        "type": "string"
      },
      "govUkOriginatorId": {
        "description": "Identity of the Originating System that made the API call",
        "type": "string",
        "minLength": 4,
        "maxLength": 40
      },
      "identifier": {
        "description": "The identifier of which could be either a Temporary Reference Number (TRN) e.g. 00A00000 or a National Insurance Number (NINO) e.g. AA000001A.",
        "type": "string",
        "pattern": "^(((?:[ACEHJLMOPRSWXY][A-CEGHJ-NPR-TW-Z]|B[A-CEHJ-NPR-TW-Z]|G[ACEGHJ-NPR-TW-Z]|[KT][A-CEGHJ-MPR-TW-Z]|N[A-CEGHJL-NPR-SW-Z]|Z[A-CEGHJ-NPR-TW-Y])[0-9]{6}[A-D]?)|([0-9]{2}[A-Z]{1}[0-9]{5}))$",
        "example": "AA000001A"
      },
      "EnumContributionCreditType": {
        "enum": [
          "NOT KNOWN",
          "CLASS 1 - NORMAL DEDUCTION CARD",
          "CLASS 1- HMF",
          "CLASS 1- MARINER",
          "CLASS 1- CIVIL SERVANT/FRINGE BODY",
          "CLASS 1- EMPLOYEE ONLY",
          "CLASS 2 - NORMAL RATE",
          "CLASS 2 - WOMAN'S RATE",
          "CLASS 2 - SHAREFISHERMAN'S RATE",
          "CLASS 2 - NORMAL RATE A",
          "CLASS 2 - NORMAL RATE B",
          "CLASS 2 - NORMAL RATE C",
          "CLASS 2 - NORMAL RATE D",
          "CLASS 2 - SHAREFISHERMAN'S RATE A",
          "CLASS 2 - SHAREFISHERMAN'S RATE B",
          "CLASS 2 - SHAREFISHERMAN'S RATE C",
          "CLASS 2 - SHAREFISHERMAN'S RATE D",
          "CLASS 2 - VOLUNTARY DEVELOPMENT WORKER'S RATE A",
          "CLASS 3 - PRE 85 RATE",
          "CLASS 3 - RATE A",
          "CLASS 3 - RATE B",
          "CLASS 3 - RATE C",
          "CLASS 3 - RATE D",
          "CLASS 1 CREDIT",
          "CLASS 3 CREDIT",
          "NOT APPLICABLE",
          "CLASS 2 - VOLUNTARY DEVELOPMENT WORKER'S RATE B",
          "CLASS 2 - VOLUNTARY DEVELOPMENT WORKER'S RATE C",
          "CLASS 2 - VOLUNTARY DEVELOPMENT WORKER'S RATE D",
          "CLASS 2 - CONTRIBUTION CONVERTED FROM NIRS1",
          "CLASS 3 - CONTRIBUTION CONVERTED FROM NIRS1",
          "CREDIT CONVERTED FROM NIRS1"
        ],
        "type": "string"
      },
      "EnumCreditSourceType": {
        "enum": [
          "NOT KNOWN",
          "ADP CENTRE LIVINGSTON",
          "DSS LOCAL OFFICES",
          "EMPLOYMENT SERVICES",
          "DIRECT DEBIT",
          "CARER'S ALLOWANCE (CA)",
          "HNCIP OR SDA",
          "NORTHERN IRELAND SICKNESS CREDITS",
          "JURY SERVICE",
          "NUBS 2",
          "NUBS 2 [ALTERNATIVE SB CONDITION MET]",
          "DWA UNIT (BLACKPOOL) EMPLOYED EARNERS",
          "DWA UNIT (BLACKPOOL) SELF EMPLOYED EARNERS",
          "DWA UNIT (BELFAST) EMPLOYED EARNERS",
          "DWA UNIT (BELFAST) SELF EMPLOYED EARNERS",
          "ISLE OF MAN",
          "AUTOCREDITS - INTERNALLY CALCULATED",
          "AUTOCREDITS - EXTERNALLY INPUT",
          "JUVENILE CREDITS (INTERNAL)",
          "WIDOWS CREDITS (INTERNAL)",
          "APPROVED TRAINING CREDITS (INTERNAL)",
          "UNEMPLOYABILITY SUPPLEMENT CREDITS (INTERNAL)",
          "PSCS INCAP",
          "LONG TERM SCALE RATE",
          "ADP READING",
          "NOT APPLICABLE",
          "QUARTERLY BILLING",
          "JSA TAPE INPUT",
          "JSA TAPE INPUT (ALTERNATIVE SB CONDITION MET)",
          "JSA PAPER INPUT",
          "FAMC-NI",
          "FAMC-GB",
          "CENTRAL AWARD",
          "ADP NORTHERN IRELAND",
          "FAMILY CREDIT (GB)",
          "FAMILY CREDIT (NI)",
          "INCAPACITY",
          "DPTC (GB) EMP",
          "DPTC (GB) S/EMP",
          "DPTC (NI) EMP",
          "DPTC (NI) S/EMP",
          "WFTC (GB)",
          "WFTC (NI)",
          "STATUTORY MATERNITY PAY CREDIT",
          "STATUTORY ADOPTION PAY CREDIT",
          "DISABLED TAX CREDIT (EMPLOYED)",
          "DISABLED TAX CREDIT (SELF-EMPLOYED)",
          "WORKING TAX CREDIT (EMPLOYED)",
          "WORKING TAX CREDIT (SELF-EMPLOYED)",
          "EMPLOYMENT AND SUPPORT",
          "HRP CONVERSION",
          "CHILD BENEFIT",
          "CARER'S CREDIT",
          "FOSTER CARER",
          "MOD SPOUSE/CIVIL PARTNER'S CREDITS",
          "ADDITTIONAL STATUTORY PATERNITY PAY",
          "SPECIFIED ADULT CARER",
          "UNIVERSAL CREDIT",
          "SHARED PARENTAL PAY",
          "POST 75 SERVICE SPOUSES CREDIT",
          "STATUTORY PARENTAL BEREAVEMENT PAY"
        ],
        "type": "string"
      },
      "errorResponse_400": {
        "description": "Array of Error Response Failure Object in Error Response.",
        "title": "Error Response",
        "properties": {
          "failures": {
            "items": {
              "$ref": "#/components/schemas/errorResourceObj_400"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "errorResourceObj_400": {
        "type": "object",
        "required": [
          "code",
          "reason"
        ],
        "properties": {
          "reason": {
            "minLength": 1,
            "description": "Displays the reason of the failure.",
            "type": "string",
            "maxLength": 120
          },
          "code": {
            "description": "The error code representing the error that has occurred. Valid values are\n400.1 - Constraint violation (Followed by 'Invalid/Missing input parameter path.to.field'\n400.2 - HTTP message not readable;",
            "type": "string",
            "enum": [
              "400.1",
              "400.2"
            ]
          }
        }
      },
      "errorResourceObj_403_Forbidden": {
        "title": "403_Forbidden",
        "type": "object",
        "required": [
          "code",
          "reason"
        ],
        "properties": {
          "reason": {
            "description": "Displays the reason of the failure.",
            "type": "string",
            "enum": [
              "Forbidden"
            ]
          },
          "code": {
            "description": "The error code representing the Forbidden Error.",
            "type": "string",
            "enum": [
              "403.2"
            ]
          }
        }
      },
      "GetNIRecordResponse": {
        "description": "Success response payload for this API.",
        "required": [
          "identifier"
        ],
        "properties": {
          "identifier": {
            "description": "The identifier of which could be either a Temporary Reference Number (TRN) e.g. 00A00000 or a National Insurance Number (NINO) e.g. AA000001A.",
            "type": "string",
            "pattern": "^(((?:[ACEHJLMOPRSWXY][A-CEGHJ-NPR-TW-Z]|B[A-CEHJ-NPR-TW-Z]|G[ACEGHJ-NPR-TW-Z]|[KT][A-CEGHJ-MPR-TW-Z]|N[A-CEGHJL-NPR-SW-Z]|Z[A-CEGHJ-NPR-TW-Y])[0-9]{6}[A-D]?)|([0-9]{2}[A-Z]{1}[0-9]{5}))$",
            "example": "AA000001A"
          },
          "numberOfQualifyingYears": {
            "description": "Denotes the number of qualifying years an individual has for receiving their basic pension.",
            "example": 5,
            "maximum": 100,
            "minimum": 0,
            "type": "integer"
          },
          "nonQualifyingYears": {
            "description": "The number of years during the individual's working life for which they have not paid the required number of National Insurance Contributions or received other relevant benefits.",
            "example": 5,
            "maximum": 100,
            "minimum": 0,
            "type": "integer"
          },
          "yearsToFinalRelevantYear": {
            "description": "The number of tax years remaining for the insured person up to and including the Final Relevant Year. The Final Relevant Year is the last complete tax year before death or pension age.",
            "example": 5,
            "maximum": 100,
            "minimum": 0,
            "type": "integer"
          },
          "nonQualifyingYearsPayable": {
            "description": "The number of non-qualifying years that are still payable.",
            "example": 5,
            "maximum": 100,
            "minimum": 0,
            "type": "integer"
          },
          "pre1975CCCount": {
            "description": "The total number of contribution credits for an individual for years prior to 1975.",
            "example": 789,
            "maximum": 9999,
            "minimum": 0,
            "type": "integer"
          },
          "dateOfEntry": {
            "description": "The date of entry onto the NPS system for the individual.",
            "example": "2022-06-27",
            "pattern": "^(((19|20)([2468][048]|[13579][26]|0[48])|2000)[-]02[-]29|((19|20)[0-9]{2}[-](0[469]|11)[-](0[1-9]|1[0-9]|2[0-9]|30)|(19|20)[0-9]{2}[-](0[13578]|1[02])[-](0[1-9]|[12][0-9]|3[01])|(19|20)[0-9]{2}[-]02[-](0[1-9]|1[0-9]|2[0-8])))$",
            "format": "date",
            "type": "string"
          },
          "contributionsByTaxYear": {
            "items": {
              "$ref": "#/components/schemas/ContributionsByTaxYear"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "ContributionsByTaxYear": {
        "description": "Contains details of the NI Contribution History for all relevant Tax Years.",
        "properties": {
          "taxYear": {
            "description": "Denotes the current tax year.",
            "example": 2022,
            "maximum": 2099,
            "minimum": 1900,
            "type": "integer"
          },
          "qualifyingTaxYear": {
            "description": "Indicates whether the tax year is a qualifying one for an individual's basic pension.",
            "example": true,
            "type": "boolean"
          },
          "payableAccepted": {
            "description": "Indicates whether contributions can still be paid for the tax year towards an individual's basic pension.",
            "example": true,
            "type": "boolean"
          },
          "amountNeeded": {
            "description": "The total amount of retrospective monetary earnings that a taxpayer may be required to pay tax on, for a given tax period.",
            "example": 10.56,
            "maximum": 99999999999999.98,
            "minimum": -9999999999999.99,
            "multipleOf": 0.01,
            "type": "number"
          },
          "classThreePayable": {
            "description": "The amount of Class 3 contributions the taxpayer could pay to make the year qualifying for a given tax year.",
            "example": 10.56,
            "maximum": 99999999999999.98,
            "minimum": -9999999999999.99,
            "multipleOf": 0.01,
            "type": "number"
          },
          "classThreePayableBy": {
            "description": "The deadline for payment of Class 3 Contributions for a given tax year.",
            "example": "2022-06-27",
            "pattern": "^(((19|20)([2468][048]|[13579][26]|0[48])|2000)[-]02[-]29|((19|20)[0-9]{2}[-](0[469]|11)[-](0[1-9]|1[0-9]|2[0-9]|30)|(19|20)[0-9]{2}[-](0[13578]|1[02])[-](0[1-9]|[12][0-9]|3[01])|(19|20)[0-9]{2}[-]02[-](0[1-9]|1[0-9]|2[0-8])))$",
            "format": "date",
            "type": "string"
          },
          "classThreePayableByPenalty": {
            "description": "The deadline for payment of Class 3 Contributions with a penalty.",
            "example": "2022-06-27",
            "pattern": "^(((19|20)([2468][048]|[13579][26]|0[48])|2000)[-]02[-]29|((19|20)[0-9]{2}[-](0[469]|11)[-](0[1-9]|1[0-9]|2[0-9]|30)|(19|20)[0-9]{2}[-](0[13578]|1[02])[-](0[1-9]|[12][0-9]|3[01])|(19|20)[0-9]{2}[-]02[-](0[1-9]|1[0-9]|2[0-8])))$",
            "format": "date",
            "type": "string"
          },
          "classTwoPayable": {
            "description": "The amount of voluntary class two payable for the tax year.",
            "example": 10.56,
            "maximum": 99999999999999.98,
            "minimum": -9999999999999.99,
            "multipleOf": 0.01,
            "type": "number"
          },
          "classTwoPayableBy": {
            "description": "The deadline for payment of Class 2 Contributions for a given tax year.",
            "example": "2022-06-27",
            "pattern": "^(((19|20)([2468][048]|[13579][26]|0[48])|2000)[-]02[-]29|((19|20)[0-9]{2}[-](0[469]|11)[-](0[1-9]|1[0-9]|2[0-9]|30)|(19|20)[0-9]{2}[-](0[13578]|1[02])[-](0[1-9]|[12][0-9]|3[01])|(19|20)[0-9]{2}[-]02[-](0[1-9]|1[0-9]|2[0-8])))$",
            "format": "date",
            "type": "string"
          },
          "classTwoPayableByPenalty": {
            "description": "The deadline for payment of Class 2 Contributions for a given tax year, with a penalty.",
            "example": "2022-06-27",
            "pattern": "^(((19|20)([2468][048]|[13579][26]|0[48])|2000)[-]02[-]29|((19|20)[0-9]{2}[-](0[469]|11)[-](0[1-9]|1[0-9]|2[0-9]|30)|(19|20)[0-9]{2}[-](0[13578]|1[02])[-](0[1-9]|[12][0-9]|3[01])|(19|20)[0-9]{2}[-]02[-](0[1-9]|1[0-9]|2[0-8])))$",
            "format": "date",
            "type": "string"
          },
          "classTwoOutstandingWeeks": {
            "description": "The number of Class 2 credits that have not been paid with a liability present.",
            "example": 3,
            "maximum": 99,
            "minimum": 0,
            "type": "integer"
          },
          "totalPrimaryContributions": {
            "description": "The total amount of class 1 earnings paid.",
            "example": 10.56,
            "maximum": 99999999999999.98,
            "minimum": -9999999999999.99,
            "multipleOf": 0.01,
            "type": "number"
          },
          "niEarnings": {
            "description": "The total amount of NI earnings for non-qualifying years.",
            "example": 10.56,
            "maximum": 99999999999999.98,
            "minimum": -9999999999999.99,
            "multipleOf": 0.01,
            "type": "number"
          },
          "coClassOnePaid": {
            "description": "Total contracted out class 1 contributions paid that count towards qualifying status.",
            "example": 10.56,
            "maximum": 99999999999999.98,
            "minimum": -9999999999999.99,
            "multipleOf": 0.01,
            "type": "number"
          },
          "totalPrimaryEarnings": {
            "description": "Total contracted out class 1 earnings that count towards qualifying status.",
            "example": 10.56,
            "maximum": 99999999999999.98,
            "minimum": -9999999999999.99,
            "multipleOf": 0.01,
            "type": "number"
          },
          "niEarningsSelfemployed": {
            "description": "Total number of self-employed credits that count towards qualifying status.",
            "example": 3,
            "maximum": 99,
            "minimum": 0,
            "type": "integer"
          },
          "niEarningsVoluntary": {
            "description": "Total number of voluntary credits that count towards qualifying status.",
            "example": 3,
            "maximum": 99,
            "minimum": 0,
            "type": "integer"
          },
          "underInvestigationflag": {
            "description": "Indicates whether an account is currently under investigation.",
            "example": true,
            "type": "boolean"
          },
          "primaryPaidEarnings": {
            "description": "Total earnings including contracted out earnings that count towards qualifying status.",
            "example": 10.56,
            "maximum": 99999999999999.98,
            "minimum": -99999999999999.98,
            "multipleOf": 0.01,
            "type": "number"
          },
          "otherCredits": {
            "items": {
              "$ref": "#/components/schemas/OtherCredits"
            },
            "type": "array"
          }
        },
        "type": "object"
      },
      "OtherCredits": {
        "description": "Contains a list of other credits for an individual for the tax year.",
        "properties": {
          "contributionCreditType": {
            "$ref": "#/components/schemas/EnumContributionCreditType",
            "description": "Indicates the type of a contribution or credit."
          },
          "creditSourceType": {
            "$ref": "#/components/schemas/EnumCreditSourceType",
            "description": "Denotes the source of a credit."
          },
          "contributionCreditCount": {
            "description": "Denotes the number of credits made to an individual's account for a given period - this number can be positive or negative, the latter of which indicates a debit.",
            "example": 86,
            "maximum": 32766,
            "minimum": -32768,
            "type": "integer"
          }
        },
        "type": "object"
      }
    },
    "securitySchemes": {
      "oAuth2": {
        "type": "oauth2",
        "description": "OAuth2 Client Credentials Flow",
        "flows": {
          "clientCredentials": {
            "tokenUrl": "/tokenUrl/not-required",
            "scopes": {
              "read:nps-ni-state-pension-information": "Individual's State Pension Information"
            }
          }
        }
      }
    }
  }
}